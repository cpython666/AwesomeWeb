<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Apple TV</title>
<link rel="stylesheet" href="./style.css">
<style>

    .danmu {
    position: absolute;
    right: 0;
    white-space: nowrap;
    font-size: 24px;
    color: white;
    transition: all ease 0.5s;
    z-index: 10;
    user-select: none;
  }
  
  .danmu:hover{
    transform: scale(1.05);
    padding: 10px;
    border: 1px solid white;
    z-index: 11;
    cursor: pointer;
  }

  .paused {
  animation-play-state: paused;
}
.show{
  opacity: 1;
}
.hide{
  opacity: 0;
}
.zan{
  transition: all ease 1s;
}
.btns{
  position: absolute;
  top:100%;
  left: 50%;
}
  @keyframes move {
    from {right: -50px;}
    to {right: calc(100% + 200px);}
  }
</style>
</head>
<body>
<div class="wrapper">

  <div class="ad" id="container">
    <div class="layer light"></div>
    <div class="layer light light-2"></div>
  </div>

  <div class="btns">
    <button type="button" class="btn">å‘é€åŠ æ²¹</button>
    <button type="button" class="btn">å‘é€å†²å†²å†²</button>
    <button type="button" class="btn">å‘é€ä¸å¿˜åˆå¿ƒ</button>
  </div>
</div>
<script src="jquery.min.js"></script>
<!-- <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script> -->
<script>
  // å®šä¹‰ä¸€ä¸ªå‡½æ•°ç”¨æ¥åˆ›å»ºå’Œæ’å…¥å¼¹å¹•
  function createDanmu(text) {
    // åˆ›å»ºä¸€ä¸ªspanå…ƒç´ 
    var danmu = document.createElement("span");
    var zan = document.createElement("span");
    zan.innerHTML = 'ğŸ‘'

    var cai = document.createElement("span");
    cai.innerHTML ='ğŸ‘'

    zan.className = "hide";
    cai.className = "hide";
    zan.classList.add('zan')
    cai.classList.add('zan')


    // è®¾ç½®å…¶æ–‡æœ¬å†…å®¹ä¸ºå‚æ•°å€¼
    danmu.innerText = text;
    // è®¾ç½®å…¶ç±»åä¸ºdanmu
    danmu.className = "danmu";
    danmu.appendChild(zan)
    danmu.appendChild(cai)
      // è®¾ç½®å…¶éšæœºçš„é«˜åº¦
    danmu.style.top = Math.random() * (container.clientHeight - danmu.clientHeight-100) + "px";
    // è®¾ç½®å…¶éšæœºçš„é¢œè‰²
    danmu.style.color = "rgb(" + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + ")";
    // å°†spanå…ƒç´ æ’å…¥åˆ°å®¹å™¨å…ƒç´ ä¸­
    container.appendChild(danmu);
    // ä½¿ç”¨CSSåŠ¨ç”»æ¥è®©spanå…ƒç´ ä»å³å‘å·¦ç§»åŠ¨
    danmu.style.animation = "move " + (5 + Math.random() * 5) + "s linear infinite";
  }
  
  // è·å–å®¹å™¨å…ƒç´ 
  var container = document.getElementById("container");
  // å®šä¹‰ä¸€ä¸ªæ•°ç»„ç”¨æ¥å­˜æ”¾ä¸€äº›å¼¹å¹•å†…å®¹
  var texts = ["Hello World", "ä¸€é”®ä¸‰è¿å‘¦", "ç«é’³åˆ˜æ˜", "åŠ©åŠ›æ¯ä¸€ä¸ªæ¢¦æƒ³", "åŠ©åŠ›æ¯ä¸€ä¸ªæ¢¦æƒ³", "åŠ©åŠ›æ¯ä¸€ä¸ªæ¢¦æƒ³"];
  // å®šä¹‰ä¸€ä¸ªå®šæ—¶å™¨ï¼Œæ¯éš”ä¸€ç§’åˆ›å»ºå¹¶æ’å…¥ä¸€æ¡å¼¹å¹•
  let addDanmu=setInterval(function() {
    // éšæœºé€‰æ‹©ä¸€ä¸ªå¼¹å¹•å†…å®¹
    var text = texts[Math.floor(Math.random() * texts.length)];
    // è°ƒç”¨å‡½æ•°åˆ›å»ºå¹¶æ’å…¥å¼¹å¹•
    createDanmu(text);
  },1000);


  setTimeout(function(){
    clearInterval(addDanmu)
  },7000)
  $('body').on('mouseover','.danmu',function(e) {
    $(this).css("animation-play-state","paused")
    $(this).children().removeClass('hide')

  })

  $('body').on('mouseout','.danmu',function(e) {
    $(this).css("animation-play-state","running")
    $(this).children().addClass('hide')
  })

  $('body').on('click','.zan',function() {
    $(this).animate({
      'font-size':'35px'
    },300,function(){
    })
  })
  var s1;
  $('body').on('click','.btn',function() {
    s1=$(this).text().replace('å‘é€','')
    createDanmu(s1)
  })

  </script>
</body>
</html>
